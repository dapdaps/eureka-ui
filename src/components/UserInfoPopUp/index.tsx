import { useRouter } from 'next/router';
import { type Dispatch, type SetStateAction,useMemo } from 'react';
import styled from "styled-components";

import useAuth from '@/hooks/useAuth';
import { useUserStore } from '@/stores/user';
import { StyledContainer, StyledFlex, StyledFont, StyledSvg } from "@/styled/styles";
import { ellipsAccount } from '@/utils/account';
const StyledUserInfoPopUp = styled.div`
  width: 294px;
  /* height: 398px; */
  border-radius: 12px;
  border: 1px solid #333648;
  background: #1F2229;
  box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.25);
`
const StyledUserInfoContainer = styled.div`
  padding: 6px;
`
const StyledUserInfo = styled.div`
  padding: 20px 16px 14px;
  height: 124px;
  border-radius: 10px;
  border: 1px solid transparent;
  &:hover {
    border-color: #333648;
    background: #18191E;
  }
`
const StyledUserAvatar = styled.img`
  width: 38px;
  height: 38px;
  border-radius: 50%;
`
const StyledReward = styled.div`
  width: 120px;
  height: 36px;
  padding-left: 11px;
  flex-shrink: 0;
  border-radius: 18px;
  border: 1px solid #373A53;
  display: flex;
  align-items: center;
  gap: 6px;
`
const StyledFeatures = styled.div`
  
`
const StyledBeta = styled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 37px;
  height: 16px;
  flex-shrink: 0;
  border-radius: 10px;
  background: #7C7F96;
  color: #101010;
  font-family: Montserrat;
  font-size: 12px;
  font-style: normal;
  font-weight: 500;
  line-height: normal;
`
const StyledIcon = styled.div`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 22px;
`
const StyledFeature = styled.div`
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-left: 28px;
  padding-right: 20px;
  cursor: pointer;
  &:hover {
    background-color: rgba(0,0,0,0.2);
    ${StyledFont} {
      color: #FFF;
    }
    ${StyledIcon} {
      svg g {
        opacity: 1;
      }
      svg path {
        opacity: 1;
        fill: #FFF;
      }
    }
  }
`
const MedalSvg = (
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
    <path d="M10.75 1.29904C11.5235 0.852456 12.4765 0.852456 13.25 1.29904L20.6423 5.56699C21.4158 6.01357 21.8923 6.83889 21.8923 7.73205V16.2679C21.8923 17.1611 21.4158 17.9864 20.6423 18.433L13.25 22.701C12.4765 23.1475 11.5235 23.1475 10.75 22.701L3.3577 18.433C2.58419 17.9864 2.1077 17.1611 2.1077 16.268V7.73205C2.1077 6.83889 2.58419 6.01357 3.3577 5.56699L10.75 1.29904Z" fill="url(#paint0_linear_17002_4892)" stroke="url(#paint1_linear_17002_4892)" />
    <path d="M5.56169 11.4107C5.30183 10.2765 6.52679 7.36726 6.52679 7.36726L13.0882 6.93119C14.3573 6.59115 15.6617 7.34426 16.0018 8.61331L18.7764 13.1858C18.3304 15.416 17.9607 16.6804 16.6917 17.0204L10.0412 18.9373C8.77217 19.2773 7.46774 18.5242 7.1277 17.2551L5.56169 11.4107Z" fill="url(#paint2_linear_17002_4892)" />
    <path d="M6.38555 8.93968C6.03535 7.63273 6.81096 6.28935 8.11791 5.93916L14.1369 4.32638C15.4438 3.97618 16.7872 4.75178 17.1374 6.05873L18.7502 12.0777C19.1004 13.3847 18.3248 14.728 17.0178 15.0782L10.9989 16.691C9.69191 17.0412 8.34853 16.2656 7.99833 14.9587L6.38555 8.93968Z" fill="url(#paint3_linear_17002_4892)" />
    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.2954 4.91799L8.27643 6.53077C7.29622 6.79341 6.71451 7.80095 6.97716 8.78116L8.58994 14.8001C8.85259 15.7803 9.86012 16.362 10.8403 16.0994L16.8593 14.4866C17.8395 14.224 18.4212 13.2164 18.1586 12.2362L16.5458 6.21725C16.2831 5.23704 15.2756 4.65534 14.2954 4.91799ZM8.11791 5.93916C6.81096 6.28935 6.03535 7.63273 6.38555 8.93968L7.99833 14.9587C8.34853 16.2656 9.69191 17.0412 10.9989 16.691L17.0178 15.0782C18.3248 14.728 19.1004 13.3847 18.7502 12.0777L17.1374 6.05873C16.7872 4.75178 15.4438 3.97618 14.1369 4.32638L8.11791 5.93916Z" fill="url(#paint4_linear_17002_4892)" />
    <path fill-rule="evenodd" clip-rule="evenodd" d="M12.0361 7.61387L10.1468 8.12011C10.0401 8.1487 9.97679 8.25837 10.0054 8.36506L10.3343 9.59255C10.3629 9.69924 10.4725 9.76256 10.5792 9.73397L12.3214 9.26715C12.8576 9.12348 13.4087 9.44168 13.5524 9.97785C13.6961 10.514 13.3779 11.0652 12.8417 11.2088L11.0995 11.6756C10.9928 11.7042 10.9295 11.8139 10.9581 11.9206L11.2945 13.176C11.3231 13.2827 11.4327 13.346 11.5394 13.3174L13.4288 12.8112C14.864 12.4266 15.7157 10.9514 15.3311 9.51622C14.9465 8.08102 13.4713 7.2293 12.0361 7.61387Z" fill="url(#paint5_linear_17002_4892)" />
    <defs>
      <linearGradient id="paint0_linear_17002_4892" x1="12" y1="0" x2="12" y2="24" gradientUnits="userSpaceOnUse">
        <stop stop-color="#50546E" />
        <stop offset="0.345" stop-color="#6B6F88" />
        <stop offset="1" stop-color="#313341" />
      </linearGradient>
      <linearGradient id="paint1_linear_17002_4892" x1="12" y1="0" x2="12" y2="24" gradientUnits="userSpaceOnUse">
        <stop stop-color="white" />
        <stop offset="1" stop-color="#A4A7C9" />
      </linearGradient>
      <linearGradient id="paint2_linear_17002_4892" x1="10.5583" y1="6.28701" x2="13.6863" y2="17.9606" gradientUnits="userSpaceOnUse">
        <stop stop-color="white" />
        <stop offset="1" stop-color="#979ABE" />
      </linearGradient>
      <linearGradient id="paint3_linear_17002_4892" x1="14.0083" y1="5.0083" x2="14.0083" y2="15.8846" gradientUnits="userSpaceOnUse">
        <stop stop-color="#646781" />
        <stop offset="1" stop-color="#3E4156" />
      </linearGradient>
      <linearGradient id="paint4_linear_17002_4892" x1="11.1274" y1="5.13277" x2="14.0083" y2="15.8846" gradientUnits="userSpaceOnUse">
        <stop stop-color="white" />
        <stop offset="1" stop-color="#979ABE" />
      </linearGradient>
      <linearGradient id="paint5_linear_17002_4892" x1="12.2942" y1="7.54472" x2="13.6868" y2="12.742" gradientUnits="userSpaceOnUse">
        <stop stop-color="white" />
        <stop offset="1" stop-color="#979ABE" />
      </linearGradient>
    </defs>
  </svg>
)
const GemSvg = (
  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="20" viewBox="0 0 22 20" fill="none">
    <path d="M8.63201 20L0.000152588 11.8335V8.16684L8.63201 0.000286102H12.5075L21.1394 8.16684V11.8335L12.5075 20H8.63201Z" fill="#F4DC27" />
    <path d="M17.6162 9.54785L11.0479 3.33361L12.5075 0.000321388L21.1394 8.16687L17.6162 9.54785Z" fill="#ED9B0D" />
    <path d="M8.63189 20L2.67029e-05 11.8335L3.52324 10.4525L10.0916 16.6667L8.63189 20Z" fill="#F1B600" />
    <path d="M12.5073 20L11.048 16.6667H10.0915L8.63179 20H12.5073Z" fill="#F1F50E" />
    <path d="M12.5073 0.000210285L11.0477 3.3335H10.0918L8.63179 0.000210285H12.5073Z" fill="#EDC102" />
    <path d="M3.52319 9.54771V10.452L-1.52588e-05 11.833V8.16639L3.52319 9.54771Z" fill="#F6CA18" />
    <path d="M17.6162 9.54737L21.1394 8.16639V11.833L17.6162 10.4524V9.54737Z" fill="#F1B600" />
    <path d="M8.63189 -1.04904e-05L10.0916 3.33327L3.52324 9.54785L2.67029e-05 8.16654L8.63189 -1.04904e-05Z" fill="#EFB000" />
    <path d="M17.6162 10.4525L21.1394 11.8335L12.5075 20L11.0479 16.6667L17.6162 10.4525Z" fill="#F0CC00" />
  </svg>
)
type PropsType = {
  setShow: Dispatch<SetStateAction<boolean>>
}
export default function UserInfoPopUp({ setShow }: PropsType) {
  const router = useRouter()
  const userInfo = useUserStore((store: any) => store.user);
  const { logging, logout } = useAuth();

  const twitterUsername = useMemo(() => {
    const _twitterUsername = userInfo?.twitter?.twitter_username
    return _twitterUsername?.length > 10 ? _twitterUsername.slice(0, 10) + '...' : _twitterUsername
  }, [userInfo])
  const features = [{
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" width="17" height="20" viewBox="0 0 17 20" fill="none">
        <g opacity="0.5">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M11.893 5.9461H4.3249C2.70273 4.86487 1.89171 3.51565 3.24437 2.16216C4.59703 0.808676 5.58668 1.62172 5.94704 2.16232C5.76686 1.26136 5.94642 0 8.10859 0C10.2707 0 10.4515 1.26136 10.2714 2.16232C10.8119 1.4416 12.2162 0.972973 13.5135 2.7027C14.8108 4.43243 11.893 5.9461 11.893 5.9461ZM8.10811 20C12.5861 20 16.2162 18.0825 16.2162 14.4788C16.2162 11.915 14.3789 8.68036 11.7061 7.02703H4.51015C1.83733 8.68036 0 11.915 0 14.4788C0 18.0825 3.63012 20 8.10811 20ZM7.62811 16.4063C7.26731 16.3833 6.9156 16.3301 6.57297 16.2465C6.10018 16.1312 5.71099 15.9813 5.40541 15.7968L6.0627 14.3092C6.35099 14.4764 6.67099 14.6119 7.0227 14.7157C7.38018 14.8137 7.72613 14.8627 8.06054 14.8627C8.25658 14.8627 8.40937 14.8512 8.51892 14.8281C8.63423 14.7993 8.71784 14.7618 8.76973 14.7157C8.82162 14.6638 8.84757 14.6032 8.84757 14.5341C8.84757 14.4245 8.78703 14.338 8.66595 14.2746C8.54487 14.2112 8.38342 14.1593 8.18162 14.1189C7.98559 14.0728 7.76937 14.0267 7.53297 13.9805C7.29658 13.9286 7.0573 13.8623 6.81514 13.7816C6.57874 13.7009 6.35964 13.5942 6.15784 13.4616C5.9618 13.329 5.80324 13.156 5.68216 12.9427C5.56108 12.7236 5.50054 12.4526 5.50054 12.1297C5.50054 11.755 5.60432 11.4148 5.81189 11.1092C6.02523 10.7978 6.33946 10.5499 6.75459 10.3654C7.00893 10.2539 7.3001 10.1761 7.62811 10.132V9.18919H8.84757V10.1129C9.07717 10.1341 9.30492 10.1693 9.53081 10.2184C9.92865 10.3049 10.2861 10.4375 10.6032 10.6162L9.98919 12.0951C9.68937 11.9452 9.3982 11.8328 9.11568 11.7578C8.83892 11.6829 8.56793 11.6454 8.3027 11.6454C8.10667 11.6454 7.95099 11.6627 7.83568 11.6973C7.72036 11.7319 7.63676 11.778 7.58487 11.8357C7.53874 11.8933 7.51568 11.9568 7.51568 12.0259C7.51568 12.1297 7.57622 12.2133 7.6973 12.2768C7.81838 12.3344 7.97694 12.3834 8.17297 12.4238C8.37477 12.4641 8.59387 12.5074 8.83027 12.5535C9.07243 12.5996 9.31171 12.6631 9.54811 12.7438C9.7845 12.8245 10.0007 12.9312 10.1968 13.0638C10.3986 13.1964 10.56 13.3694 10.6811 13.5827C10.8022 13.796 10.8627 14.0613 10.8627 14.3784C10.8627 14.7474 10.756 15.0876 10.5427 15.3989C10.3351 15.7045 10.0238 15.9524 9.60865 16.1427C9.38572 16.2418 9.13202 16.3143 8.84757 16.3601V17.3189H7.62811V16.4063Z" fill="white" />
        </g>
      </svg>
    ),
    label: "Portfolio",
    new: true,
    path: '/portfolio',
    bp: "1001-010-002",
  }, {
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="23" viewBox="0 0 16 23" fill="none">
        <g opacity="0.5">
          <path d="M7.14394 8.41785C7.53287 7.77368 8.46713 7.77368 8.85606 8.41785L10.4199 11.0079C10.5593 11.2389 10.7862 11.4037 11.0489 11.4649L13.9955 12.1518C14.7283 12.3227 15.017 13.2112 14.5245 13.7802L12.5445 16.0678C12.3679 16.2718 12.2813 16.5385 12.3042 16.8073L12.5615 19.8219C12.6254 20.5716 11.8696 21.1208 11.1763 20.8283L8.38876 19.652C8.1402 19.5472 7.8598 19.5472 7.61124 19.652L4.82368 20.8283C4.13039 21.1208 3.37456 20.5716 3.43854 19.8219L3.69578 16.8073C3.71872 16.5385 3.63207 16.2718 3.45552 16.0678L1.47546 13.7802C0.983007 13.2112 1.27171 12.3227 2.00454 12.1518L4.95109 11.4649C5.21383 11.4037 5.44067 11.2389 5.58011 11.0079L7.14394 8.41785Z" fill="#979ABE" />
          <path fill-rule="evenodd" clip-rule="evenodd" d="M7 0H1C0.447715 0 0 0.447715 0 1V4.34598C0 4.74328 0.235194 5.1029 0.599182 5.26214L7.19836 8.14928C7.7094 8.37286 8.2906 8.37286 8.80164 8.14928L15.4008 5.26214C15.7648 5.1029 16 4.74328 16 4.34598V1C16 0.447715 15.5523 0 15 0H9V3C9 3.55228 8.55229 4 8 4C7.44772 4 7 3.55228 7 3V0Z" fill="#979ABE" />
        </g>
      </svg>
    ),
    label: "Achievements",
    path: '/profile/medals',
    bp: "1001-010-003",
  }, {
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" width="19" height="22" viewBox="0 0 19 22" fill="none">
        <path opacity="0.5" fill-rule="evenodd" clip-rule="evenodd" d="M14.7991 5.79761C14.7991 7.75914 13.8118 9.48554 12.3071 10.542C15.4055 11.9173 18.0309 15.3121 18.0277 18.3559C18.0277 18.3559 19.0268 21.5 9.02771 21.5C-0.971418 21.5 0.0277178 18.2689 0.0277178 18.2689C0.0277178 15.6632 2.5801 11.9753 5.63407 10.5549C4.11343 9.51453 3.11026 7.75914 3.11026 5.78151C3.11026 2.59282 5.72295 0 8.9547 0C12.1896 0 14.7991 2.59282 14.7991 5.79761ZM9.90209 16.8721H11.158C11.6401 16.8721 12.03 16.4821 12.027 16C12.027 15.5179 11.637 15.1279 11.1549 15.1279H9.89902V13.8721C9.89902 13.39 9.50905 13 9.02696 13C8.54487 13 8.15491 13.39 8.15491 13.8721V15.1279H6.89902C6.41694 15.1279 6.02697 15.5179 6.02697 16C6.02697 16.4821 6.41694 16.8721 6.89902 16.8721H8.15798V18.1279C8.15798 18.61 8.54795 19 9.03003 19C9.51212 19 9.90209 18.61 9.90209 18.1279V16.8721ZM7.64809 6.57964C7.41593 6.2366 6.94964 6.14672 6.60661 6.37888C6.26357 6.61104 6.17369 7.07733 6.40585 7.42036C6.87392 8.11198 7.74747 8.62686 8.69537 8.73061C9.68729 8.83917 10.7749 8.50011 11.6092 7.47282C11.8703 7.15128 11.8213 6.67894 11.4998 6.41781C11.1783 6.15668 10.7059 6.20565 10.4448 6.52718C9.94574 7.14166 9.36665 7.29512 8.85857 7.23951C8.30647 7.17908 7.84669 6.87308 7.64809 6.57964Z" fill="#979ABE" />
      </svg>
    ),
    label: "Invite friends",
    path: "/profile?target=inviteFriends",
    bp: "1001-010-004"
  }, {
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" width="21" height="19" viewBox="0 0 21 19" fill="none">
        <path opacity="0.5" fill-rule="evenodd" clip-rule="evenodd" d="M9.71362 18.705C9.90688 18.8881 10.1612 19 10.4358 19C10.7002 19 10.9647 18.8983 11.158 18.705L19 10.863C20.1918 9.67033 20.8613 8.05328 20.8613 6.36724C20.8613 4.6812 20.1918 3.06415 19 1.87152C16.6606 -0.478051 12.9278 -0.600107 10.4358 1.47484C9.28643 0.518737 7.86245 0 6.35709 0C4.65848 0 3.06159 0.661135 1.86138 1.86135C0.661161 3.06156 2.57657e-05 4.65846 2.57657e-05 6.35707C-0.00235973 7.19228 0.160922 8.01967 0.480422 8.79135C0.799921 9.56304 1.26929 10.2637 1.86138 10.8528L9.71362 18.705ZM5.9205 8.20788C7.0902 9.44878 8.72778 10.1709 10.4366 10.1709C11.2856 10.1707 12.1253 9.99436 12.9026 9.65296C13.68 9.31156 14.378 8.81257 14.9526 8.18754C15.1347 7.98926 15.2306 7.72678 15.2191 7.45782C15.2077 7.18886 15.0899 6.93547 14.8916 6.75338C14.6933 6.57129 14.4308 6.47543 14.1619 6.48687C13.8929 6.49832 13.6395 6.61614 13.4574 6.81441C12.6844 7.65863 11.5757 8.14685 10.4264 8.14685C9.26686 8.14685 8.19887 7.67897 7.40551 6.82458C7.22207 6.62766 6.96792 6.51167 6.69896 6.50213C6.56579 6.49741 6.43299 6.51896 6.30815 6.56556C6.1833 6.61216 6.06886 6.6829 5.97135 6.77373C5.87385 6.86455 5.79519 6.9737 5.73986 7.09493C5.68453 7.21616 5.65363 7.3471 5.6489 7.48027C5.63937 7.74923 5.73706 8.01095 5.9205 8.20788Z" fill="#979ABE" />
      </svg>
    ),
    label: "Favorite",
    path: '/profile?target=favorite',
    bp: "1001-010-005"
  }, {
    icon: (
      <svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
        <path opacity="0.5" fill-rule="evenodd" clip-rule="evenodd" d="M2.51492 19.5144H13.8772C14.5236 19.5144 15.048 18.99 15.048 18.3435C15.048 17.6971 14.5236 17.1727 13.8772 17.1727H2.63688C2.52956 17.0434 2.34173 16.6629 2.34173 16.0555V3.46137C2.34173 2.85398 2.52956 2.47345 2.63688 2.34173H13.8772C14.5236 2.34173 15.048 1.81728 15.048 1.17086C15.048 0.52445 14.5236 0 13.8772 0H2.51492C1.08061 0 0 1.48797 0 3.46137V16.053C0 18.0264 1.08061 19.5144 2.51492 19.5144ZM16.2653 14.9726L20.6159 10.6244C20.6295 10.6122 20.6429 10.5995 20.6561 10.5865C20.8856 10.3569 21.0003 10.057 21 9.75724C21.0003 9.45745 20.8856 9.15757 20.6561 8.928C20.6416 8.91352 20.6268 8.89949 20.6118 8.88592L16.2678 4.54189C15.8092 4.0833 15.0701 4.0833 14.6115 4.54189C14.1529 5.00048 14.1529 5.73959 14.6115 6.19818L17.001 8.58637H8.97665C8.33024 8.58637 7.80579 9.11082 7.80579 9.75723C7.80579 10.4036 8.33024 10.9281 8.97665 10.9281H16.9997L14.6115 13.3163C14.1529 13.7749 14.1529 14.514 14.6115 14.9726C14.8383 15.2019 15.1384 15.3165 15.4384 15.3165C15.7384 15.3165 16.0385 15.2019 16.2653 14.9726Z" fill="#979ABE" />
      </svg>
    ),
    label: "Logout"
  },]
  return (
    <StyledUserInfoPopUp>
      <StyledUserInfoContainer>
        <StyledUserInfo>
          <StyledFlex
            justifyContent="space-between"
            style={{ cursor: 'pointer' }}
            data-bp="1001-010-001"
            onClick={() => {
              router.push('/profile')
              setShow && setShow(false)
            }}
          >
            <StyledFlex gap="10px">
              <StyledUserAvatar src={userInfo?.avatar} />
              <StyledFlex
                flexDirection="column"
                alignItems="flex-start"
              >
                {
                  twitterUsername ? (
                    <>
                      <StyledFont color="#FFF" fontSize="18px" fontWeight="600">{twitterUsername}</StyledFont>
                      <StyledFont color="#FFF" fontSize="12px">{ellipsAccount(userInfo?.address)}</StyledFont>
                    </>
                  ) : (
                    <StyledFont color="#FFF" fontSize="18px" fontWeight="600">{ellipsAccount(userInfo?.address)}</StyledFont>
                  )
                }
              </StyledFlex>
            </StyledFlex>
            <StyledSvg>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="12" viewBox="0 0 16 12" fill="none">
                <path d="M1 5.2C0.558172 5.2 0.2 5.55817 0.2 6C0.2 6.44183 0.558172 6.8 1 6.8L1 5.2ZM15.5657 6.56569C15.8781 6.25327 15.8781 5.74674 15.5657 5.43432L10.4745 0.343147C10.1621 0.0307272 9.65557 0.0307272 9.34315 0.343147C9.03073 0.655566 9.03073 1.1621 9.34315 1.47452L13.8686 6L9.34314 10.5255C9.03073 10.8379 9.03073 11.3444 9.34314 11.6569C9.65556 11.9693 10.1621 11.9693 10.4745 11.6569L15.5657 6.56569ZM1 6.8L15 6.8L15 5.2L1 5.2L1 6.8Z" fill="white" />
              </svg>
            </StyledSvg>
          </StyledFlex>
          <StyledFlex gap="10px" style={{ marginTop: 16 }}>
            <StyledReward>
              <StyledSvg>
                {MedalSvg}
              </StyledSvg>
              <StyledFont color="#FFF" fontSize="14px" fontWeight="500" lineHeight="100%">{userInfo?.medals?.length} Medals</StyledFont>
            </StyledReward>
            <StyledReward>
              <StyledSvg>
                {GemSvg}
              </StyledSvg>
              <StyledFont color="#FFF" fontSize="14px" fontWeight="500" lineHeight="100%">{userInfo?.gem} Gems</StyledFont>
            </StyledReward>
          </StyledFlex>
        </StyledUserInfo>
      </StyledUserInfoContainer>
      <StyledFeatures>
        {
          features.map((feature, index) => {
            return (
              <StyledFeature key={index} data-bp={feature?.bp} onClick={() => {
                if (feature.label === "Logout") {
                  logout()
                } else {
                  feature?.path && router.push(feature.path)
                }
                setShow && setShow(false)
              }}>
                <StyledFlex gap='14px'>
                  <StyledIcon>{feature.icon}</StyledIcon>
                  <StyledFlex gap='4px'>
                    <StyledFont
                      color="#979ABE"
                      fontWeight="500"
                    >{feature.label}</StyledFont>
                    {
                      feature.new && (
                        <StyledBeta>Beta</StyledBeta>
                      )
                    }
                  </StyledFlex>
                </StyledFlex>
                {
                  feature.new && (
                    <StyledSvg>
                      <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">
                        <path d="M12.5951 0.5587C12.7948 0.283226 13.2052 0.283226 13.4049 0.5587L14.7571 2.42465C14.9104 2.63632 15.201 2.69411 15.4237 2.55725L17.387 1.3508C17.6769 1.17269 18.0561 1.32978 18.1351 1.66067L18.6703 3.90205C18.731 4.1563 18.9773 4.32088 19.2355 4.27967L21.511 3.91639C21.847 3.86275 22.1372 4.15301 22.0836 4.48896L21.7203 6.76453C21.6791 7.02266 21.8437 7.26897 22.098 7.32968L24.3393 7.86487C24.6702 7.94388 24.8273 8.32312 24.6492 8.61297L23.4427 10.5763C23.3059 10.799 23.3637 11.0896 23.5753 11.2429L25.4413 12.5951C25.7168 12.7948 25.7168 13.2052 25.4413 13.4049L23.5753 14.7571C23.3637 14.9104 23.3059 15.201 23.4427 15.4237L24.6492 17.387C24.8273 17.6769 24.6702 18.0561 24.3393 18.1351L22.098 18.6703C21.8437 18.731 21.6791 18.9773 21.7203 19.2355L22.0836 21.511C22.1372 21.847 21.847 22.1372 21.511 22.0836L19.2355 21.7203C18.9773 21.6791 18.731 21.8437 18.6703 22.098L18.1351 24.3393C18.0561 24.6702 17.6769 24.8273 17.387 24.6492L15.4237 23.4427C15.201 23.3059 14.9104 23.3637 14.7571 23.5753L13.4049 25.4413C13.2052 25.7168 12.7948 25.7168 12.5951 25.4413L11.2429 23.5753C11.0896 23.3637 10.799 23.3059 10.5763 23.4427L8.61297 24.6492C8.32312 24.8273 7.94388 24.6702 7.86487 24.3393L7.32968 22.098C7.26897 21.8437 7.02266 21.6791 6.76453 21.7203L4.48896 22.0836C4.15301 22.1372 3.86275 21.847 3.91639 21.511L4.27967 19.2355C4.32088 18.9773 4.1563 18.731 3.90205 18.6703L1.66067 18.1351C1.32978 18.0561 1.17269 17.6769 1.3508 17.387L2.55725 15.4237C2.69411 15.201 2.63632 14.9104 2.42465 14.7571L0.5587 13.4049C0.283226 13.2052 0.283226 12.7948 0.5587 12.5951L2.42465 11.2429C2.63632 11.0896 2.69411 10.799 2.55725 10.5763L1.3508 8.61297C1.17269 8.32312 1.32978 7.94388 1.66067 7.86487L3.90205 7.32968C4.1563 7.26897 4.32088 7.02266 4.27967 6.76453L3.91639 4.48896C3.86275 4.15301 4.15301 3.86275 4.48896 3.91639L6.76453 4.27967C7.02266 4.32088 7.26897 4.1563 7.32968 3.90205L7.86487 1.66067C7.94388 1.32978 8.32312 1.17269 8.61297 1.3508L10.5763 2.55725C10.799 2.69411 11.0896 2.63632 11.2429 2.42465L12.5951 0.5587Z" fill="#6E6CFF" />
                        <path d="M14.7093 17.4256L15.7915 9.32983L17.1438 9.69218L16.4036 14.6185L18.3679 10.0305L19.4401 10.3178L18.8789 15.2714L20.6984 10.6446L22.0314 11.0018L18.9304 18.5566L17.5781 18.1943L18.1428 13.0346L16.0906 17.7957L14.7093 17.4256Z" fill="black" />
                        <path d="M10.0586 16.1795L12.155 8.35547L15.5647 9.2691L15.2697 10.3703L13.4538 9.88368L12.8973 11.9604L14.2979 12.3357L14.0002 13.4465L12.5997 13.0712L11.9422 15.5247L13.7775 16.0164L13.4876 17.0983L10.0586 16.1795Z" fill="black" />
                        <path d="M5 14.824L7.09644 7L8.20725 7.29764L8.8537 11.8397L9.94592 7.76352L11.2596 8.11551L9.16314 15.9395L8.10062 15.6548L7.52147 10.8616L6.36196 15.1889L5 14.824Z" fill="black" />
                      </svg>
                    </StyledSvg>
                  )
                }
              </StyledFeature>
            )
          })
        }
      </StyledFeatures>
    </StyledUserInfoPopUp>
  )
}
